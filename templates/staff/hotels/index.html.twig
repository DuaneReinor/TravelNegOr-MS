{% extends 'staff/base.html.twig' %}
{% block title %}Hotels{% endblock %}

{% block staff_content %}
<div class="admin-section">
    <div class="page-header">
        <h1>Hotels Management</h1>
        <a href="{{ path('staff_hotels_new') }}" class="btn-add">+ Add New Hotel</a>
    </div>

    {% if hotels|length > 0 %}
        <table class="admin-table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Location</th>
                    <th>Price</th>
                    <th>Description</th>
                    <th>Image</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for hotel in hotels %}
                <tr>
                    <td>{{ hotel.id }}</td>
                    <td><strong>{{ hotel.name }}</strong></td>
                    <td>{{ hotel.location }}</td>
                    <td>${{ hotel.price }}</td>
                    <td>{{ hotel.description|slice(0, 50) }}{% if hotel.description|length > 50 %}...{% endif %}</td>
                    <td>
                        {% if hotel.image %}
                            <img src="{{ hotel.image }}" alt="{{ hotel.name }}" style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px;">
                        {% else %}
                            <span style="color: #ccc;">No image</span>
                        {% endif %}
                    </td>
                    <td>
                        <a href="{{ path('staff_hotels_show', {id: hotel.id}) }}" class="btn-view">View</a>
                        <a href="{{ path('staff_hotels_edit', {id: hotel.id}) }}" class="btn-edit">Edit</a>
                        <form method="post" action="{{ path('staff_hotels_delete', {id: hotel.id}) }}" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this hotel?')">
                            <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ hotel.id) }}">
                            <button type="submit" class="btn-delete">Delete</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <div class="no-hotels">
            <h3>No hotels found</h3>
            <p>No hotels have been added to the system yet.</p>
            <a href="{{ path('staff_hotels_new') }}" class="btn-add">Add the First Hotel</a>
        </div>
    {% endif %}
</div>

<style>
.admin-section {
    padding: 2rem;
}

.page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

.page-header h1 {
    font-size: 1.5rem;
    color: #333;
    margin: 0;
}

.btn-add {
    background: #74C15A;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 600;
    margin-bottom: 1rem;
    display: inline-block;
    transition: background 0.3s;
}

.btn-add:hover {
    background-color: #5ca74b;
}

.admin-table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    border-radius: 10px;
    overflow: hidden;
}

.admin-table th, 
.admin-table td {
    padding: 0.75rem 1rem;
    text-align: left;
    border-bottom: 1px solid #eee;
}

.admin-table th {
    background: #f4f4f4;
    font-weight: 600;
}

.admin-table tr:hover {
    background-color: #f9fdf9;
}

.btn-view, .btn-edit, .btn-delete {
    padding: 4px 8px;
    border-radius: 4px;
    text-decoration: none;
    font-weight: 500;
    font-size: 0.85rem;
    transition: opacity 0.3s;
    margin-right: 5px;
    border: none;
    cursor: pointer;
}

.btn-view {
    background: #6c757d;
    color: white;
}

.btn-edit {
    background: #007bff;
    color: white;
}

.btn-delete {
    background: #dc3545;
    color: white;
}

.btn-view:hover,
.btn-edit:hover,
.btn-delete:hover {
    opacity: 0.85;
}

.no-hotels {
    text-align: center;
    padding: 60px 20px;
    background: #f9f9f9;
    border-radius: 10px;
    margin-top: 20px;
}

.no-hotels h3 {
    color: #666;
    margin-bottom: 10px;
}

.no-hotels p {
    color: #888;
    margin-bottom: 20px;
}
</style>
{% endblock %}